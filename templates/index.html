<!DOCTYPE html>
<html lang="{{ current_locale or 'uk' }}" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ _("Portfolio") }} â€“ {{ name }}</title>

    <link
      rel="stylesheet"
      href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Michroma&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Honk&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Kalnia+Glaze:wght@100..700&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" href="/static/favicon.ico" />
    <link rel="apple-touch-icon" href="/static/icon-180.png" />
    <link rel="manifest" href="/static/site.webmanifest" />
  </head>
  <body>
    <header class="container sticky-bar">
      <div class="desktop">
        <nav aria-label="Primary">
          <ul class="nav-left">
            <li><a href="#present" data-nav>{{ _("Profile") }}</a></li>
            <li><a href="#projects" data-nav>{{ _("My projects") }}</a></li>
            <li><a href="#contact" data-nav>{{ _("Contacts") }}</a></li>
          </ul>
          <ul class="nav-right">
            <li class="lang-switch">
              <button
                class="lang-btn contrast outline"
                type="button"
                aria-haspopup="true"
                aria-expanded="false"
                aria-label="Change language"
              >
                <span class="lang-current">EN</span> â–¾
              </button>
              <ul class="lang-menu" role="menu" aria-label="Languages">
                <li role="none">
                  <a role="menuitem" data-lang="uk">{{ _("Ukrainian") }}</a>
                </li>
                <li role="none">
                  <a role="menuitem" data-lang="cs">{{ _("Czech") }}</a>
                </li>
                <li role="none">
                  <a role="menuitem" data-lang="en">{{ _("English") }}</a>
                </li>
              </ul>
            </li>
            <li>
              <button
                id="themeToggle"
                class="contrast outline"
                type="button"
                aria-label="{{ _('Toggle theme') }}"
              >
                ğŸŒ™/â˜€ï¸
              </button>
            </li>
          </ul>
        </nav>
      </div>

      <div class="mobile">
        <nav aria-label="Primary">
          <ul>
            <li>
              <details class="dropdown">
                <summary>{{ _("Menu") }}</summary>
                <ul>
                  <li><a href="#present" data-nav>{{ _("Profile") }}</a></li>
                  <li>
                    <a href="#projects" data-nav>{{ _("My projects") }}</a>
                  </li>
                  <li><a href="#contact" data-nav>{{ _("Contacts") }}</a></li>
                </ul>
              </details>
            </li>
          </ul>
          <ul>
            <li>
              <button
                id="themeToggle"
                class="contrast outline"
                type="button"
                aria-label="{{ _('Toggle theme') }}"
              >
                ğŸŒ™/â˜€ï¸
              </button>
            </li>
            <li class="lang-switch">
              <button
                class="lang-btn contrast outline"
                type="button"
                aria-haspopup="true"
                aria-expanded="false"
                aria-label="Change language"
              >
                <span class="lang-current">EN</span> â–¾
              </button>
              <ul class="lang-menu" role="menu" aria-label="Languages">
                <li role="none">
                  <a role="menuitem" data-lang="uk">{{ _("Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°") }}</a>
                </li>
                <li role="none">
                  <a role="menuitem" data-lang="cs">{{ _("ÄŒeÅ¡tina") }}</a>
                </li>
                <li role="none">
                  <a role="menuitem" data-lang="en">{{ _("English") }}</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    <main id="main" class="container">
      <!-- HERO / PRESENT -->
      <section
        id="present"
        class="panel hero fullvh"
        aria-labelledby="present-title"
      >
        <div class="hero-inner">
          <h1 id="present-title" class="hello">{{ name }}</h1>

          <img
            class="avatar"
            src="{{ url_for('static', filename='avatar2.png') }}"
            alt="{{ _('%(name)s avatar', name=name) }}"
          />

          <h3>{{ _("Hi, my name is %(name)s", name=name) }}</h3>

          <p class="myinfo">
            {%- trans trimmed -%} Iâ€™m a Prague-based Computer Science graduate
            ğŸ“ building lean web apps and prototypes: Python on the backend ğŸ‘¨â€ğŸ’»
            (Flask/Django), HTML/CSS/JS on the frontend, and a growing toolkit
            of automation and data utilities ğŸ¤–ğŸ“Š. I care about readable code,
            small iterations, and design that stays out of the way âœ¨. Lately
            Iâ€™ve been exploring applied AIâ€”classification, embeddings, and tiny
            agents that reduce repetitive workâ€”and sharing lightweight write-ups
            so others can build on top of my findings. {%- endtrans -%}
          </p>

          <p>
            {%- trans trimmed -%} Beyond tech, Iâ€™m into fishing, long walks with
            podcasts ğŸ§, and the occasional street photography ğŸ“·. Iâ€™m happiest
            when a simple script unlocks real-world value for someone. {%-
            endtrans -%}
          </p>

          <p>
            <strong>{{ _("Thanks for stopping by.") }}</strong>
            {{ _("Letâ€™s build something useful together.") }} âš¡ğŸŒŸ
          </p>

          <div class="cta">
            <a href="#projects" role="button">{{ _("View projects") }}</a>
            <a href="#contact" class="secondary" role="button"
              >{{ _("Contact") }}</a
            >
          </div>
        </div>
      </section>

      <!-- PROJECTS -->
      <section
        id="projects"
        class="panel fullvh"
        aria-labelledby="projects-title"
      >
        <h2 id="projects-title">{{ _("My projects") }}</h2>

        <p class="tagline">
          {%- trans trimmed -%} Python / Flask / Django Â· CRM mini-projects Â·
          Simple and practical web tools Â· AI-curious {%- endtrans -%}
        </p>

        <ul>
          <li>
            <a
              href="https://lamik.pythonanywhere.com"
              target="_blank"
              rel="noopener"
            >
              <img
                class="fish"
                src="{{ url_for('static', filename='fishman.png') }}"
                alt="{{ _('%(name)s avatar', name=name) }}"
              />
            </a>
          </li>
          <li>
            <a
              href="https://lamik.pythonanywhere.com"
              target="_blank"
              rel="noopener noreferrer"
            >
              {{ _("Fishlog (Django) â€“ demo") }}
            </a>
          </li>
          <li>{{ _("CRM Mini (Flask) â€“ demo/description") }}</li>
          <li>
            <a
              href="https://mykolaprague.github.io/curlytom.github.io/index.html"
              target="_blank"
              rel="noopener noreferrer"
            >
              {{ _("Simple Web") }}
            </a>
          </li>
        </ul>
      </section>

      <!-- CONTACT -->
      <section
        id="contact"
        class="panel fullvh"
        aria-labelledby="contact-title"
      >
        <h2 id="contact-title">{{ _("Contacts") }}</h2>

        <p>
          {%- trans trimmed -%} For collaborations, freelance work, or just to
          say hiâ€”reach out anytime. {%- endtrans -%}
        </p>
        <div class="contact-buttons">
          <ul>
            <li>
              <a
                class="contrast outline"
                href="https://t.me/yourhandle"
                target="_blank"
                rel="noopener"
                >ğŸ’¬ {{ _("Telegram") }}</a
              >
            </li>
            <!--
            <li>
              <a
                class="contrast outline"
                href="https://www.linkedin.com/in/yourhandle"
                target="_blank"
                rel="noopener"
                >ğŸ‘” {{ _("LinkedIn") }}</a
              >
            </li>
            -->
            <li>
              <a
                class="contrast outline"
                href="https://github.com/yourhandle"
                target="_blank"
                rel="noopener"
                >ğŸ§‘â€ğŸ’» {{ _("GitHub") }}</a
              >
            </li>
            <li>
              <a
                class="contrast outline"
                href="https://www.upwork.com/freelancers/~yourprofile"
                target="_blank"
                rel="noopener"
                >ğŸ§° {{ _("Upwork") }}</a
              >
            </li>
            <!--
            <li>
              <a
                class="contrast outline"
                href="https://x.com/yourhandle"
                target="_blank"
                rel="noopener"
                >ğŸ¦ {{ _("X / Twitter") }}</a
              >
            </li>
            -->
            <li>
              <a
                class="contrast outline"
                href="https://www.buymeacoffee.com/yourhandle"
                target="_blank"
                rel="noopener"
                >â˜• {{ _("Support") }}</a
              >
            </li>
          </ul>
        </div>
        <div id="flash-zone">
          {% with messages = get_flashed_messages(with_categories=true) %} {%
          for category, text in messages %}
          <article
            class="{{ 'success' if category=='success' else 'secondary' }} flash-msg"
            role="alert"
          >
            {{ text }}
            <button class="close" aria-label="Close">&times;</button>
          </article>
          {% endfor %} {% endwith %}
        </div>
        <section id="contact" class="container">
          <h2>{{ _("Contact") }}</h2>
          <form action="/contact" method="post">
            <label>{{ _("Name") }}<input type="text" name="name" required />
            </label>

            <label>{{ _("Email") }}<input type="email" name="email" required />
            </label>

            <label>{{ _("Message") }}<textarea name="message" rows="5" required></textarea>
            </label>

            <!-- Honeypot: Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ğ½Ğµ Ğ¿Ğ¾Ğ»Ğµ, Ğ»ÑĞ´Ğ¸ Ğ½Ğµ Ğ·Ğ°Ğ¿Ğ¾Ğ²Ğ½ÑÑÑ‚ÑŒ, Ğ±Ğ¾Ñ‚Ğ¸ Ñ‡Ğ°ÑÑ‚Ğ¾ â€” Ñ‚Ğ°Ğº -->
            <label class="hp" aria-hidden="true" tabindex="-1">{{ _("Your website (leave empty)") }}<input type="text" name="website" autocomplete="off" />
            </label>

            <button type="submit" class="contrast">{{ _("Send") }}</button>
          </form>
        </section>

        <p class="contact-meta">
          ğŸ“ {{ _("Prague, Czechia") }} Â· â±ï¸ {{ _("Monâ€“Fri, 09:00â€“17:00 CET") }}
        </p>
      </section>
    </main>

    <!-- JS: theme toggle + active link on scroll -->
    <script>
      // Smooth active link highlight
      const links = document.querySelectorAll("a[data-nav]");
      const map = new Map(
        [...links].map((a) => [a.getAttribute("href").slice(1), a])
      );
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              links.forEach((a) => a.classList.remove("is-active"));
              const a = map.get(e.target.id);
              if (a) a.classList.add("is-active");
              history.replaceState(null, "", "#" + e.target.id);
            }
          });
        },
        { rootMargin: "-40% 0px -55% 0px", threshold: [0, 0.25, 1] }
      );
      document.querySelectorAll("section[id]").forEach((s) => io.observe(s));

      // === Language Switch ===
      (function () {
        const mapLabel = { uk: "UK", cs: "CS", en: "EN" };

        // Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ° Ğ¼Ğ¾Ğ²Ğ°: ĞºÑ€Ğ°Ñ‰Ğµ Ğ· ÑĞµÑ€Ğ²ĞµÑ€Ñƒ, Ñ–Ğ½Ğ°ĞºÑˆĞµ Ğ· URL
        const currentLang =
          (function () {
            try {
              return "{{ current_locale or '' }}";
            } catch (e) {
              /* not templated */
            }
            const p = new URLSearchParams(location.search);
            return p.get("lang") || "en";
          })() || "en";

        // Ğ—Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ²ÑÑ– Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ñ– Ğ¼ĞµĞ½Ñ
        function closeAll() {
          document
            .querySelectorAll(".lang-menu.show")
            .forEach((m) => m.classList.remove("show"));
          document
            .querySelectorAll('.lang-btn[aria-expanded="true"]')
            .forEach((b) => b.setAttribute("aria-expanded", "false"));
        }

        // Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·ÑƒÑ”Ğ¼Ğ¾ ĞºĞ¾Ğ¶Ğ½Ğ¸Ğ¹ .lang-switch Ğ¾ĞºÑ€ĞµĞ¼Ğ¾
        document.querySelectorAll(".lang-switch").forEach((sw) => {
          const btn = sw.querySelector(".lang-btn");
          const menu = sw.querySelector(".lang-menu");
          const curEl = sw.querySelector(".lang-current");

          if (!btn || !menu || !curEl) return;

          // Ğ¿Ğ¾ĞºĞ°Ğ·ÑƒÑ”Ğ¼Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ñƒ Ğ¼Ğ¾Ğ²Ñƒ Ğ½Ğ° ĞºĞ½Ğ¾Ğ¿Ñ†Ñ–
          curEl.textContent =
            mapLabel[currentLang] || currentLang.toUpperCase();

          // Ğ¿Ñ–Ğ´ÑĞ²Ñ–Ñ‚Ğ¸Ñ‚Ğ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñƒ Ğ¼Ğ¾Ğ²Ñƒ Ğ² Ğ¼ĞµĞ½Ñ
          menu.querySelectorAll("[data-lang]").forEach((a) => {
            if (a.getAttribute("data-lang") === currentLang)
              a.classList.add("is-active");
          });

          // Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ/Ğ·Ğ°ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ½Ñ
          function toggleMenu(show) {
            const willShow =
              typeof show === "boolean"
                ? show
                : !menu.classList.contains("show");
            closeAll(); // Ğ¾Ğ´Ğ¸Ğ½ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸Ğ¹ Ğ·Ğ° Ñ€Ğ°Ğ·
            if (willShow) {
              menu.classList.add("show");
              btn.setAttribute("aria-expanded", "true");
              (
                menu.querySelector(".is-active") ||
                menu.querySelector("[data-lang]")
              )?.focus();
            } else {
              menu.classList.remove("show");
              btn.setAttribute("aria-expanded", "false");
            }
          }

          btn.addEventListener("click", (e) => {
            e.preventDefault();
            toggleMenu();
          });

          // Ğ²Ğ¸Ğ±Ñ–Ñ€ Ğ¼Ğ¾Ğ²Ğ¸
          menu.querySelectorAll("[data-lang]").forEach((a) => {
            a.addEventListener("click", (e) => {
              e.preventDefault();
              const lang = a.getAttribute("data-lang");
              const url = new URL(location.href);
              url.searchParams.set("lang", lang); // Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ¼Ğ¾ Ñ–Ğ½ÑˆÑ– Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸ Ñ‚Ğ° hash
              location.href = url.toString();
            });
          });
        });

        // Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾: ĞºĞ»Ñ–Ğº Ğ¿Ğ¾Ğ·Ğ° Ğ¼ĞµĞ½Ñ/ESC â€” Ğ·Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸
        document.addEventListener("click", (e) => {
          if (!e.target.closest(".lang-switch")) closeAll();
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") closeAll();
        });
      })();
      // Theme toggle (persisted)
      (function () {
        const root = document.documentElement;
        const saved = localStorage.getItem("theme");
        if (saved === "light" || saved === "dark")
          root.setAttribute("data-theme", saved);
        function toggleTheme() {
          const cur = root.getAttribute("data-theme") || "light";
          const next = cur === "light" ? "dark" : "light";
          root.setAttribute("data-theme", next);
          localStorage.setItem("theme", next);
        }
        document
          .querySelectorAll('[id="themeToggle"]')
          .forEach((b) => b.addEventListener("click", toggleTheme));
      })();
      // Ğ°Ğ²Ñ‚Ğ¾Ğ·Ğ½Ğ¸ĞºĞ°Ğ½Ğ½Ñ Ñ‡ĞµÑ€ĞµĞ· 4Ñ
      setTimeout(() => {
        document.querySelectorAll(".flash-msg").forEach((el) => {
          el.classList.add("hide");
          setTimeout(() => el.remove(), 400);
        });
      }, 10000);

      // Ñ€ÑƒÑ‡Ğ½Ğµ Ğ·Ğ°ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
      document.querySelectorAll(".flash-msg .close").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          const box = e.currentTarget.closest(".flash-msg");
          box.classList.add("hide");
          setTimeout(() => box.remove(), 350);
        });
      });

      // Ğ¿Ñ–Ğ´ÑÑ‚Ñ€Ğ°Ñ…ÑƒÑ”Ğ¼Ğ¾ ÑĞºÑ€Ğ¾Ğ» Ğ´Ğ¾ ÑĞµĞºÑ†Ñ–Ñ— #contact (Ñ–Ğ½Ğ¾Ğ´Ñ– Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ½Ğµ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‡ÑƒÑ” Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾)
      if (location.hash === "#contact") {
        const el = document.getElementById("contact");
        if (el)
          setTimeout(
            () => el.scrollIntoView({ behavior: "smooth", block: "start" }),
            50
          );
      }
        // ÑĞºÑ‰Ğ¾ Ğ¿Ñ€Ğ¸Ğ¹ÑˆĞ»Ğ¸ ÑĞ°Ğ¼Ğµ Ğ½Ğ° #contact â€” Ğ²Ğ¸Ğ¼ĞºĞ½ĞµĞ¼Ğ¾ Ğ¿Ğ»Ğ°Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ½Ğ° Ğ¾Ğ´Ğ¸Ğ½ ĞºĞ°Ğ´Ñ€ Ñ– ÑÑ‚Ñ€Ğ¸Ğ±Ğ½ĞµĞ¼Ğ¾ Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾
      if (location.hash === '#contact') {
        document.documentElement.classList.add('no-smooth');
        const el = document.getElementById('contact');
        if (el) {
          // Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾
          el.scrollIntoView({ behavior: 'auto', block: 'start' });
        }
        // Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ğ¼Ğ¾ Ğ¿Ğ»Ğ°Ğ²Ğ½Ñ–ÑÑ‚ÑŒ
        setTimeout(() => document.documentElement.classList.remove('no-smooth'), 50);
      }
    </script>
  </body>
</html>
