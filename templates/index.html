<!DOCTYPE html>
<html lang="{{ current_locale or 'uk' }}" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ _("Portfolio") }} – {{ name }}</title>

    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Honk&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kalnia+Glaze:wght@100..700&display=swap" rel="stylesheet">

    <link rel="icon" href="/static/favicon.ico">
    <link rel="apple-touch-icon" href="/static/icon-180.png">
    <link rel="manifest" href="/static/site.webmanifest">
  </head>
  <body>
    <header class="container sticky-bar">
      <div class="desktop">
        <nav aria-label="Primary">
          <ul class="nav-left">
            <li><a href="#present" data-nav>{{ _("Present") }}</a></li>
            <li><a href="#projects" data-nav>{{ _("My projects") }}</a></li>
            <li><a href="#contact" data-nav>{{ _("Contacts") }}</a></li>
          </ul>
          <ul class="nav-right">
            <li>
              <!-- <a href="{{ url_for('index', lang='uk') }}">Українська</a> -->
              <a href="{{ url_for('index', lang='en') }}">Eng</a>
              <a href="{{ url_for('index', lang='cs') }}">Čs</a>
            </li>
            <li>
              <button id="themeToggle" class="contrast outline" type="button" aria-label="{{ _('Toggle theme') }}">🌙/☀️</button>
            </li>
          </ul>
        </nav>
      </div>

      <div class="mobile">
        <nav aria-label="Primary">
          <ul>
            <li>
              <details class="dropdown">
                <summary>{{ _("Menu") }}</summary>
                <ul>
                  <li><a href="#present" data-nav>{{ _("Present") }}</a></li>
                  <li><a href="#projects" data-nav>{{ _("My projects") }}</a></li>
                  <li><a href="#contact" data-nav>{{ _("Contacts") }}</a></li>
                </ul>
              </details>
            </li>
          </ul>
          <ul>
            <li>
              <button id="themeToggle" class="contrast outline" type="button" aria-label="{{ _('Toggle theme') }}">🌙/☀️</button>
            </li>
            <li><a href="{{ url_for('index', lang='en') }}" hreflang="en">EN</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="main" class="container">
      <!-- HERO / PRESENT -->
      <section id="present" class="panel hero fullvh" aria-labelledby="present-title">
        <div class="hero-inner">
          <h1 id="present-title" class="hello">{{ name }}</h1>

          <img class="avatar" src="{{ url_for('static', filename='avatar2.png') }}" alt="{{ _('%(name)s avatar', name=name) }}" />

          <h3>{{ _("Hi, my name is %(name)s", name=name) }}</h3>

          <p>
            {% trans %}
            I’m a Prague-based 🇨🇿 Computer Science graduate 🎓 building lean web apps and prototypes:
            Python on the backend 👨‍💻 (Flask/Django), HTML/CSS/JS on the frontend, and a growing toolkit of
            automation and data utilities 🤖📊. I care about readable code, small iterations, and design that
            stays out of the way ✨. Lately I’ve been exploring applied AI—classification, embeddings, and tiny
            agents that reduce repetitive work—and sharing lightweight write-ups so others can build on top of my findings.
            {% endtrans %}
          </p>

          <p>
            {% trans %}
            Beyond tech, I’m into fishing, long walks with podcasts 🎧, and the occasional street photography 📷.
            I’m happiest when a simple script unlocks real-world value for someone.
            {% endtrans %}
          </p>

          <p>
            <strong>{{ _("Thanks for stopping by.") }}</strong>
            {{ _("Let’s build something useful together.") }} ⚡🌟
          </p>

          <div class="cta">
            <a href="#projects" role="button">{{ _("View projects") }}</a>
            <a href="#contact" class="secondary" role="button">{{ _("Contact") }}</a>
          </div>
        </div>
      </section>

      <!-- PROJECTS -->
      <section id="projects" class="panel fullvh" aria-labelledby="projects-title">
        <h2 id="projects-title">{{ _("My projects") }}</h2>

        <p class="tagline">
          {{ _("Python / Flask / Django · CRM mini-projects · Simple and practical web tools · AI-curious") }}
        </p>

        <ul>
          <li>
            <a href="https://lamik.pythonanywhere.com" target="_blank" rel="noopener">
              <img class="fish" src="{{ url_for('static', filename='fishman.png') }}" alt="{{ _('%(name)s avatar', name=name) }}" />
            </a>
          </li>
          <li>
            <a href="https://lamik.pythonanywhere.com" target="_blank" rel="noopener noreferrer">
              {{ _("Fishlog (Django) – demo") }}
            </a>
          </li>
          <li>{{ _("CRM Mini (Flask) – demo/description") }}</li>
          <li>
            <a href="https://mykolaprague.github.io/curlytom.github.io/index.html" target="_blank" rel="noopener noreferrer">
              {{ _("Simple Web") }}
            </a>
          </li>
        </ul>
      </section>

      <!-- CONTACT -->
      <section id="contact" class="panel fullvh" aria-labelledby="contact-title">
        <h2 id="contact-title">{{ _("Contacts") }}</h2>

        <p>
          {{ _("For collaborations, freelance work, or just to say hi—reach out anytime.") }}
        </p>

        <p class="contact-email">
          📧
          <a href="mailto:koljaxp+portfolio@gmail.com?subject=Hello%20from%20your%20portfolio&body=Hi%2C%20I%27d%20like%20to%20talk%20about...">
            {{ _("koljaxp+portfolio (at) gmail (dot) com") }}
          </a>
        </p>

        <div class="contact-buttons">
          <a class="contrast outline" href="https://t.me/yourhandle" target="_blank" rel="noopener">💬 {{ _("Telegram") }}</a>
          <a class="contrast outline" href="https://www.linkedin.com/in/yourhandle" target="_blank" rel="noopener">👔 {{ _("LinkedIn") }}</a>
          <a class="contrast outline" href="https://github.com/yourhandle" target="_blank" rel="noopener">🧑‍💻 {{ _("GitHub") }}</a>
          <a class="contrast outline" href="https://www.upwork.com/freelancers/~yourprofile" target="_blank" rel="noopener">🧰 {{ _("Upwork") }}</a>
          <a class="contrast outline" href="https://x.com/yourhandle" target="_blank" rel="noopener">🐦 {{ _("X / Twitter") }}</a>
          <a class="contrast outline" href="https://www.buymeacoffee.com/yourhandle" target="_blank" rel="noopener">☕ {{ _("Support") }}</a>
        </div>

        <p class="contact-meta">
          📍 {{ _("Prague, Czechia") }} · ⏱️ {{ _("Mon–Fri, 09:00–17:00 CET") }}
        </p>
      </section>
    </main>

    <!-- JS: theme toggle + active link on scroll -->
    <script>
      // Smooth active link highlight
      const links = document.querySelectorAll("a[data-nav]");
      const map = new Map([...links].map(a => [a.getAttribute("href").slice(1), a]));
      const io = new IntersectionObserver((entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) {
            links.forEach(a => a.classList.remove("is-active"));
            const a = map.get(e.target.id);
            if (a) a.classList.add("is-active");
            history.replaceState(null, "", "#" + e.target.id);
          }
        });
      }, { rootMargin: "-40% 0px -55% 0px", threshold: [0, 0.25, 1] });
      document.querySelectorAll("section[id]").forEach((s) => io.observe(s));

      // Theme toggle (persisted)
      (function () {
        const root = document.documentElement;
        const saved = localStorage.getItem('theme');
        if (saved === 'light' || saved === 'dark') root.setAttribute('data-theme', saved);
        function toggleTheme() {
          const cur = root.getAttribute('data-theme') || 'light';
          const next = (cur === 'light' ? 'dark' : 'light');
          root.setAttribute('data-theme', next);
          localStorage.setItem('theme', next);
        }
        document.querySelectorAll('[id="themeToggle"]').forEach(b => b.addEventListener('click', toggleTheme));
      })();
    </script>
  </body>
</html>
